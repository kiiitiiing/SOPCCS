@model List<UserLess>


@if (Model.Count() != 0)
{<div class="table-responsive">
        <table class="table table-striped table-hover" style="font-size: 14px;">
            <thead>
                <tr class="bg-black">
                    <th>Name</th>
                    <th>Facility</th>
                    <th>Contact / Email</th>
                    <th>Address</th>
                    <th>Username</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <a class="text-warning text-bold"
                               style="cursor:pointer; font-size: 16px !important;"
                               data-toggle="ajax-modal"
                               data-target="#small_modal"
                               data-action="#small_content"
                               data-url="@Url.Action("EditUser","Account", new { userId = item.Id })">
                                @item.Name
                            </a>
                        </td>
                        <td>@item.Facility</td>
                        <td>
                            @item.ContactNo<br />
                            <small class="text-success">(@item.Email)</small>
                        </td>
                        <td>@item.Address</td>
                        <td>@item.Username</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div class="alert alert-warning">
        <span>
            <i class="fa fa-exclamation-triangle"></i> No Users found!
        </span>
    </div>
}

<script>
    $(function () {
        //EDIT PATIENT
        $('a[data-toggle="ajax-modal"]').click(function (event) {
            event.preventDefault();
            event.stopImmediatePropagation();
            var url = $(this).data('url');
            var target = $(this).data('target');
            var action = $(this).data('action');
            var content = $(action);
            $.when($(target).modal('show')).done(function () {
            $.ajax({
                url: url,
                tpye: 'get',
                async: true,
                success: function (data) {
                    content.html(data);
                },
                timeout: 60000,
                error: function (xhr, ajaxOptions, thrownError) {
                    $('body').find('#loadings').modal('toggle');
                    alert(xhr.responseText);
                    alert(thrownError);
                    }
                });
            });
        });
    });
</script>