@model ResultForm

<div class="modal-content" id="result_modal">
    <div class="modal-header">
        <h4>
            <i class="far fa-file-alt"></i>
            &nbsp;Result Form
        </h4>
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <form asp-action="ResultForm">
            <input hidden asp-for="Id" />
            <input hidden asp-for="CreatedBy" />
            <input hidden asp-for="CreatedAt" />
            <input hidden asp-for="UpdatedAt" />
            <input hidden asp-for="SopFormId" />
            <table class="table table-bordered">
                <tbody>
                    <tr>
                        <td colspan="17">
                            <label>Name of Patient: </label><span class="text-danger">@Model.SopForm.Patient.GetFullName().ToUpper()</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>Age:</label>
                        </td>
                        <td colspan="2">
                            <span class="text-danger">@Model.SopForm.Patient.Dob.ComputeAge()</span>
                        </td>
                        <td>
                            <label>Sex:</label>
                        </td>
                        <td colspan="4">
                            <span class="text-danger">@Model.SopForm.Patient.Sex</span>
                        </td>
                        <td colspan="3">
                            <label>Date of Birth: </label>
                        </td>
                        <td colspan="6">
                            <span class="text-danger">@Model.SopForm.Patient.Dob.ToString("dd/MM/yyyy")</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" rowspan="4">
                            <label>Patient Location:</label><br />
                            <label>RHU/CHO</label><br />
                            <label>Hospital/Infirmary</label><br />
                            <label>Referral:</label>
                        </td>
                        <td colspan="5" rowspan="4">
                            <span class="text-danger"></span><br />
                            <span class="text-danger"></span><br />
                            <span class="text-danger"></span><br />
                            <span class="text-danger">@Model.SopForm.DiseaseReportingUnit.Facility.Name</span>
                        </td>
                        <td colspan="3" rowspan="2">
                            <label>Sample ID:</label>
                        </td>
                        <td colspan="6" rowspan="2">
                            <span class="text-danger">@Model.SopForm.SampleId</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="9"></td>
                    </tr>
                    <tr>
                        <td colspan="3" rowspan="2">
                            <label>Admission Date:</label>
                        </td>
                        <td colspan="6" rowspan="2">
                            <span class="text-danger">N/A</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="9"></td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <label>Requisitioner:</label>
                        </td>
                        <td colspan="5">
                            <span class="text-danger">@Model.SopForm.RequestedBy</span>
                        </td>
                        <td rowspan="2">
                            <label>Address:</label>
                        </td>
                        <td colspan="8" rowspan="2" style="white-space: nowrap;">
                            <span class="text-danger">@Model.SopForm.Patient.GetAddress()</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <label>Specimen Type:</label>
                        </td>
                        <td colspan="5">
                            <span class="text-danger">@Model.SopForm.TypeSpecimen</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="5">
                            <label>Date & Time of Specimen Collection:</label>
                        </td>
                        <td colspan="3">
                            <span class="text-danger">@Model.SopForm.DatetimeCollection.GetDate("dd/MM/yyyy hh:mm tt")</span>
                        </td>
                        <td colspan="6">
                            <label>Date & Time of Specimen Collection:</label>
                        </td>
                        <td colspan="3">
                            <span class="text-danger">@Model.SopForm.DatetimeSpecimenReceipt.GetDate("dd/MM/yyyy hh:mm tt")</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="17"></td>
                    </tr>
                    <tr>
                        <td colspan="17" class="text-center">
                            <label>LABORATORY TEST RESULT</label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="17"></td>
                    </tr>
                    <tr>
                        <td colspan="7">
                            <label>LABORATORY TEST PERFORMED:</label>
                        </td>
                        <td colspan="10">
                            <textarea class="" asp-for="LabTestPerformed" style="height: 100%; width: 100%; border: 0;" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="17"></td>
                    </tr>
                    <tr>
                        <td colspan="3" rowspan="2">
                            <label>TEST RESULT:</label>
                        </td>
                        <td colspan="14" rowspan="2">
                            <span class="text-danger">@Model.SopForm.PcrResult</span>
                        </td>
                    </tr>
                    <tr>
                    <tr>
                        <td colspan="8">
                            <label>
                                TEST RESULT AND UNITS OR MEASUREMENTS:
                            </label>
                        </td>
                        <td colspan="9">
                            <input class="form-control" asp-for="TestResult" style="height: 100% !important; width: 100% !important; box-sizing: border-box; border: 0;" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="8">
                            <label>
                                BIOLOGICAL REFERENCE INTERVALS:
                            </label>
                        </td>
                        <td colspan="9">
                            <input class="form-control" asp-for="BiologicalReferrence" style="height: 100% !important; width: 100% !important; box-sizing: border-box; border: 0;" />
                        </td>
                    </tr>
                </tbody>
            </table>
            @if (ViewBag.Errors != null)
            {
                <div class="row" style="margin-top: 20px;">
                    <div class="col-sm-12 center" style="align-content:center">
                        <span class="text-danger text-sm">Please select a Laboratory.</span>
                    </div>
                </div>
            }
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-sm btn-danger fa-pull-left" type="button" data-dismiss="modal">
            Cancel
        </button>
        <button class="btn btn-sm btn-success fa-pull-right" data-action="small_modal" data-save="modal">
            Submit
        </button>
    </div>
</div>

<script>
    $(function () {
        $('.select2').select2()
    })
</script>