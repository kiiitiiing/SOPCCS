@model Sopform

<div class="modal-content" id="new_sop">
    <div class="modal-header">
        <h4>
            <i class="fa fa-user-plus"></i>
            &nbsp;New SOP
        </h4>
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <form asp-action="AddSopModal">
            <input hidden asp-for="PcrResult" value="none" />
            <input hidden asp-for="SampleId" value="none" />
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label>First name:</label>
                        <input class="form-control" asp-for="Patient.Fname" autofocus />
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Middle name:</label>
                        <input class="form-control" asp-for="Patient.Mname" />
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Last name:</label>
                        <input class="form-control" asp-for="Patient.Lname" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <label>Date of birth:</label>
                    <input id="patient_dob" type="date" class="form-control" asp-for="Patient.Dob" onchange="CaclAge($(this).val());" />
                </div>
                <div class="col-sm-4">
                    <label>Age:</label>
                    <input type="number" class="form-control" id="Patient_Age" readonly />
                </div>
                <div class="col-sm-4">
                    <label>Gender:</label><br />
                    <input type="radio" id="male" asp-for="Patient.Sex" value="male" checked />
                    <label for="male">Male</label>
                    <input type="radio" id="female" asp-for="Patient.Sex" value="female" />
                    <label for="male">Female</label>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    Province:
                    <select asp-for="Patient.Province" asp-items="ViewBag.Province" id="patientProvince" title="province" class="form-control col-sm-12">
                    </select>
                </div>
                <div class="col-sm-4">
                    City/Municipality:
                    <select id="muncityFilters"
                            asp-for="Patient.Muncity"
                            asp-items="ViewBag.Muncity"
                            title="City/Municipality"
                            class="form-control col-sm-12"
                            onchange="MuncityOnChange($(this).val(),'@Url.Action("FilteredBarangay","Helper", new {muncityId=""})');">
                        <option value="">Select City/Municipaliy</option>
                    </select>
                </div>
                <div class="col-sm-4">
                    Barangay:
                    <select id="barangays" asp-for="Patient.Barangay" asp-items="ViewBag.BarangayP" title="Barangay" class="form-control col-sm-12">
                        <option value="">Select Barangay</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <label>Requested By:</label>
                    <input type="text" class="form-control" asp-for="RequestedBy" />
                </div>
                <div class="col-sm-4">
                    <label>Contact number:</label>
                    <input type="text" class="form-control" asp-for="RequesterContact" />
                </div>
                <div class="col-sm-4">
                    <label>Date & Time of Collection:</label>
                    <input type="datetime-local" class="form-control" asp-for="DatetimeCollection" />
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label>Type of Speciment &amp; Collection Medium:</label>
                    <select type="text" class="form-control" asp-for="TypeSpecimen">
                        <option value="" selected hidden>Select Type</option>
                        <option value="NPS IN UTM">NPS IN UTM</option>
                        <option value="OPS IN UTM">OPS IN UTM</option>
                        <option value="NPS/OPS IN UTM">NPS/OPS IN UTM</option>
                        <option value="TRACHEAL ASPIRATE">TRACHEAL ASPIRATE</option>
                    </select>
                </div>
            </div>
            @if (ViewBag.Errors != null)
            {
                <div class="row" style="margin-top: 20px;">
                    <div class="col-sm-12 center" style="align-content:center">
                        <span class="text-danger text-sm">Please input the required fields.</span>
                    </div>
                </div>
            }
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-sm btn-danger fa-pull-left" type="button" data-dismiss="modal">
            Cancel
        </button>
        <button class="btn btn-sm btn-success fa-pull-right" data-action="small_modal" data-save="modal">
            Submit
        </button>
    </div>
</div>

<script>
    $(function () {
        $('.select2').select2()
    })
</script>